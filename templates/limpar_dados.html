{% extends "base.html" %}

{% block title %}Limpar Banco de Dados - MetriFy ERP{% endblock %}

{% block content %}
<div class="content-inner">
  <div class="topbar">
    <div class="topbar-title">
      <i class="bi bi-trash3"></i>
      Limpar Banco de Dados
      <span class="badge bg-danger">Ação Irreversível</span>
    </div>
  </div>

  <div class="card-glass">
    <div class="card-glass-header">
      <div class="card-glass-title text-danger">
        <i class="bi bi-exclamation-triangle-fill"></i>
        ⚠️ ATENÇÃO: Esta ação não pode ser desfeita!
      </div>
    </div>

    <div class="alert alert-danger mb-4">
      <h5 class="alert-heading">
        <i class="bi bi-exclamation-octagon"></i>
        Esta operação vai deletar TODOS os dados:
      </h5>
      <ul class="mb-0">
        <li><strong>Todos os produtos</strong></li>
        <li><strong>Todas as vendas</strong></li>
        <li><strong>Todas as transações financeiras</strong></li>
      </ul>
      <hr>
      <p class="mb-0">
        <i class="bi bi-shield-check"></i>
        Os <strong>usuários</strong> e <strong>configurações</strong> serão mantidos.
      </p>
    </div>

    <form method="POST" onsubmit="return confirm('Tem certeza absoluta que deseja limpar TODOS os dados?');">
      <div class="mb-4">
        <label for="confirmacao" class="form-label fw-bold">
          <i class="bi bi-keyboard"></i>
          Digite <code>LIMPAR</code> para confirmar:
        </label>
        <input 
          type="text" 
          class="form-control form-control-lg" 
          id="confirmacao" 
          name="confirmacao" 
          placeholder="Digite: LIMPAR"
          required
          autocomplete="off"
          style="font-family: monospace; font-size: 1.2rem; text-align: center; border: 2px solid #dc2626;"
        >
        <small class="text-muted d-block mt-2">
          <i class="bi bi-info-circle"></i>
          Digite exatamente <strong>LIMPAR</strong> (em maiúsculas)
        </small>
      </div>

      <div class="d-flex gap-2">
        <button type="submit" class="btn btn-danger btn-lg">
          <i class="bi bi-trash3"></i>
          Limpar Banco de Dados
        </button>
        <a href="{{ url_for('dashboard') }}" class="btn btn-outline-secondary btn-lg">
          <i class="bi bi-x-circle"></i>
          Cancelar
        </a>
      </div>
    </form>
  </div>

  <div class="card-glass mt-4">
    <div class="card-glass-header">
      <div class="card-glass-title">
        <i class="bi bi-lightbulb"></i>
        Quando usar esta função?
      </div>
    </div>
    <ul class="mb-0">
      <li>Quando quiser começar do zero com novos dados</li>
      <li>Para limpar dados de teste antes de usar em produção</li>
      <li>Quando houver problemas de importação e precisar reiniciar</li>
    </ul>
  </div>
</div>
{% endblock %}
